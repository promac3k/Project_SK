<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="css/index.css">
  <link rel="stylesheet" href="css/modal.css">
  <script src="js/main.js"></script>
  <title>Perfil</title>
</head>

<body>
  <main>
    <div class="container_profile">

      <nav>
        <ul>
          <li style="margin-left: 1.3rem; margin-right: auto;"><a href="/">Inicio</a></li>
          <li><a href="/contact">Contacto</a></li>
          <li><a href="/eventos">Eventos</a></li>
          <li class="adada"><a href="/perfil">Perfil</a></li>
        </ul>
      </nav>

      <div class="profile_info">
        <h1 id="nome"></h1>
        <img
          src="https://imgs.search.brave.com/wVvWqZjpOgQq0WR4gQEDL5FbT9OcgL64hPnC7RoI33o/rs:fit:860:0:0/g:ce/aHR0cHM6Ly9zdGF0/aWMtMDAuaWNvbmR1/Y2suY29tL2Fzc2V0/cy4wMC9wcm9ncmFt/bWVyLWljb24tMTAy/NHgxMDI0LW93ZTIy/bzd0LnBuZw"
          alt="" style="width:80%" class>
        <p class="title" id="turma-curso"></p>
        <p class="title_2">ESTS</p>
      </div>
      <div class="profile_settings">
        <span>
          <div class="social-container">
            <label class="switch_profile">
              <input id="switchon" type="checkbox" onclick="mySwitch()">
              <span class="slider round"></span>
            </label>
          </div>
        </span>
        <span id="hoverText" onmouseover="changeColor()" onmouseout="resetColor()" style="cursor: pointer;"
          onclick="document.getElementById('modal_editar').style.display='block'"><svg
            xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="40" height="40" viewBox="0 0 24 24">
            <path
              d="M 10.490234 2 C 10.011234 2 9.6017656 2.3385938 9.5097656 2.8085938 L 9.1757812 4.5234375 C 8.3550224 4.8338012 7.5961042 5.2674041 6.9296875 5.8144531 L 5.2851562 5.2480469 C 4.8321563 5.0920469 4.33375 5.2793594 4.09375 5.6933594 L 2.5859375 8.3066406 C 2.3469375 8.7216406 2.4339219 9.2485 2.7949219 9.5625 L 4.1132812 10.708984 C 4.0447181 11.130337 4 11.559284 4 12 C 4 12.440716 4.0447181 12.869663 4.1132812 13.291016 L 2.7949219 14.4375 C 2.4339219 14.7515 2.3469375 15.278359 2.5859375 15.693359 L 4.09375 18.306641 C 4.33275 18.721641 4.8321562 18.908906 5.2851562 18.753906 L 6.9296875 18.1875 C 7.5958842 18.734206 8.3553934 19.166339 9.1757812 19.476562 L 9.5097656 21.191406 C 9.6017656 21.661406 10.011234 22 10.490234 22 L 13.509766 22 C 13.988766 22 14.398234 21.661406 14.490234 21.191406 L 14.824219 19.476562 C 15.644978 19.166199 16.403896 18.732596 17.070312 18.185547 L 18.714844 18.751953 C 19.167844 18.907953 19.66625 18.721641 19.90625 18.306641 L 21.414062 15.691406 C 21.653063 15.276406 21.566078 14.7515 21.205078 14.4375 L 19.886719 13.291016 C 19.955282 12.869663 20 12.440716 20 12 C 20 11.559284 19.955282 11.130337 19.886719 10.708984 L 21.205078 9.5625 C 21.566078 9.2485 21.653063 8.7216406 21.414062 8.3066406 L 19.90625 5.6933594 C 19.66725 5.2783594 19.167844 5.0910937 18.714844 5.2460938 L 17.070312 5.8125 C 16.404116 5.2657937 15.644607 4.8336609 14.824219 4.5234375 L 14.490234 2.8085938 C 14.398234 2.3385937 13.988766 2 13.509766 2 L 10.490234 2 z M 12 8 C 14.209 8 16 9.791 16 12 C 16 14.209 14.209 16 12 16 C 9.791 16 8 14.209 8 12 C 8 9.791 9.791 8 12 8 z">
            </path>
          </svg></span>
        <a href="/logout"><span><img width="40" height="40" src="https://img.icons8.com/windows/40/exit.png"
              alt="exit" /></span></a>

      </div>

      <!-- Modal -->
      <div id="modal_editar" class="modal">
        <div class="modal_conteudo">
          <div class="modal-header">
            <h1>Alterar Palavra-Passe</h1>

            <span class="fechar">&times;</span>
          </div>

          <div class="modal-content">
            <div class="container_Pass">
              <form action="/submit_form" method="post">
                <label for="lname">Nova Palavra-Passe:</label><br>
                <input type="text" id="lname" name="lname" value="" class="input_campo"><br>
                <label for="email">Confirmar Palavra-Passe:</label><br>
                <input type="email" id="email" name="email" value="" class="input_campo"><br>

                <button class="button_contacto">Gravar </button>
              </form>
            </div>
          </div>
        </div>

      </div>

      <div class="flex-container">

        <table class="table_alunos">
          <tr class="tr_alunos">
            <th>Horas</th>
            <th>Segunda</th>
            <th>Terça</th>
            <th>Quarta</th>
            <th>Quinta</th>
            <th>Sexta</th>
          </tr>

          <tr class="tr_alunos">
            <td>08:00 - 08:30</td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
          </tr>
          <tr>
            <td>08:30 - 09:00</td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
          </tr>
          <tr class="tr_alunos">
            <td>09:00 - 09:30</td>
            <td rowspan="8" class="table_aula_segunda">CIC (Teorica)<br>1ºPWDAM-01<br>F315----LT</td>
            <td rowspan="8" class="table_aula_terca">IPINT (TP)<br>1ºPWDAM-01<br>D108-----JVJ</td>
            <td rowspan="8" class="table_aula_quarta">FM (TP)<br>1ºPWDAM-01<br>F315-----ECSL</td>
            <td rowspan="8" class="table_aula_quinta">ING (TP)<br>1ºPWDAM-01<br>F315-----ECSL</td>
            <td rowspan="8" class="table_aula_sexta">SGBD (TP)<br>1ºPWDAM-01<br>F315-----ND_DSI_INF_01</td>
          </tr>
          <tr class="tr_alunos">
            <td>09:30 - 10:00</td>
          </tr>
          <tr class="tr_alunos">
            <td>10:00 - 10:30</td>
          </tr>
          <tr class="tr_alunos">
            <td>10:30 - 11:00</td>
          </tr>
          <tr class="tr_alunos">
            <td>11:00 - 11:30</td>
          </tr>
          <tr class="tr_alunos">
            <td>11:30 - 12:00</td>
          </tr>
          <tr class="tr_alunos">
            <td>12:00 - 12:30</td>
          </tr>
          <tr class="tr_alunos">
            <td>12:30 - 13:00</td>
          </tr>
          <tr class="tr_alunos">
            <td>13:00 - 13:30</td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
          </tr>

          <tr class="tr_alunos">
            <td>13:30 - 14:00</td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
          </tr>
        </table>

      </div>

      <footer>
        <p>
          Criado <i class="fa fa-heart"></i> por
          André Nunes, Diogo Oliveira, Gustavo Antunes, Sebastião Costa e Tiago Batista
        </p>
      </footer>
    </div>
  </main>
</body>

</html>

<script>

  window.onload = checkCookie();

  // vai buscar o id do modal
  var modal = document.getElementById("modal_editar");

  // vai buscar a class do botao para fechar o modal
  var span = document.getElementsByClassName("fechar")[0];

  //fecha o modal quando o botao dentro do modal for clicado
  span.onclick = function () {
    modal.style.display = "none";
  }

  function changeColor() {
    document.getElementById('hoverText').style.color = 'red';
  }

  function resetColor() {
    var bodyStyles = window.getComputedStyle(document.body);
    var currentColor = bodyStyles.getPropertyValue('--text-color');
    document.getElementById('hoverText').style.color = currentColor;
  }

  function getCookie(name) {

    const value = "; " + document.cookie;
    const parts = value.split("; " + name + "=");
    if (parts.length == 2) return parts.pop().split(";").shift();

  }

  const userCookie = getCookie('user');
  if (userCookie) {
    const user = JSON.parse(decodeURIComponent(userCookie));
    document.getElementById('nome').textContent = user.nome;
    document.getElementById('turma-curso').textContent = user.curso + '  ' + user.turma;
  }


</script>